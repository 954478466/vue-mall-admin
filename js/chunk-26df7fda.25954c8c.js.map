{"version":3,"sources":["webpack:///./src/components/BaseDetail.vue?5c80","webpack:///./src/views/page/ProductAdd.vue?61ca","webpack:///./src/components/SaleDetail.vue?0289","webpack:///./src/views/page/ProductAdd.vue?5172","webpack:///./src/components/BaseDetail.vue?6ea3","webpack:///src/components/BaseDetail.vue","webpack:///./src/components/BaseDetail.vue?0e02","webpack:///./src/components/BaseDetail.vue","webpack:///./src/components/SaleDetail.vue?81a4","webpack:///src/components/SaleDetail.vue","webpack:///./src/components/SaleDetail.vue?5c8f","webpack:///./src/components/SaleDetail.vue","webpack:///src/views/page/ProductAdd.vue","webpack:///./src/views/page/ProductAdd.vue?897c","webpack:///./src/views/page/ProductAdd.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","current","_l","item","key","title","form","on","next","prev","_e","staticRenderFns","ref","span","model","value","callback","$$v","$set","expression","$store","state","c","id","_v","_s","name","data","props","created","categoryList","length","dispatch","computed","getCategoryItems","category","c_items","methods","$refs","ruleForm","validate","valid","component","action","fileList","handlePreview","handleChange","previewVisible","handleCancel","staticStyle","previewImage","getBase64","file","Promise","reader","readAsDataURL","onload","onerror","$api","getUploadImageUrl","images","map","$emit","status","push","response","url","filter","steps","desc","tags","price","price_off","unit","inventory","components","BaseDetail","SaleDetail"],"mappings":"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","file":"js/chunk-26df7fda.25954c8c.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BaseDetail.vue?vue&type=style&index=0&lang=less&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProductAdd.vue?vue&type=style&index=0&id=0b509b8c&lang=less&scoped=true&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SaleDetail.vue?vue&type=style&index=0&lang=less&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"product-detail\"},[_c('a-steps',{staticClass:\"product-step\",attrs:{\"current\":_vm.current}},_vm._l((_vm.steps),function(item){return _c('a-step',{key:item.title,attrs:{\"title\":item.title}})}),1),_c('div',{staticClass:\"steps-content\"},[(_vm.current === 0)?_c('BaseDetail',{attrs:{\"form\":_vm.form},on:{\"next\":_vm.next}}):(_vm.current === 1)?_c('SaleDetail',{attrs:{\"form\":_vm.form},on:{\"next\":_vm.next,\"prev\":_vm.prev}}):_vm._e()],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"basic-detail\"},[_c('a-form-model',{ref:\"ruleForm\",attrs:{\"model\":_vm.form,\"label-col\":{ span: 5 },\"wrapper-col\":{ span: 13 }}},[_c('a-form-model-item',{attrs:{\"label\":\"标题\",\"prop\":\"title\",\"required\":\"\"}},[_c('a-input',{model:{value:(_vm.form.title),callback:function ($$v) {_vm.$set(_vm.form, \"title\", $$v)},expression:\"form.title\"}})],1),_c('a-form-model-item',{attrs:{\"label\":\"商品描述\",\"prop\":\"desc\"}},[_c('a-input',{model:{value:(_vm.form.desc),callback:function ($$v) {_vm.$set(_vm.form, \"desc\", $$v)},expression:\"form.desc\"}})],1),_c('a-form-model-item',{attrs:{\"label\":\"商品类目\",\"required\":\"\",\"prop\":\"category\"}},[_c('a-select',{attrs:{\"placeholder\":\"请选择商品类别\"},model:{value:(_vm.form.category),callback:function ($$v) {_vm.$set(_vm.form, \"category\", $$v)},expression:\"form.category\"}},_vm._l((_vm.$store.state.categoryList),function(c){return _c('a-select-option',{key:c.id,attrs:{\"value\":c.id}},[_vm._v(\" \"+_vm._s(c.name)+\" \")])}),1),_c('a-select',{attrs:{\"placeholder\":\"请添加子类目\"},model:{value:(_vm.form.c_item),callback:function ($$v) {_vm.$set(_vm.form, \"c_item\", $$v)},expression:\"form.c_item\"}},_vm._l((_vm.getCategoryItems),function(c){return _c('a-select-option',{key:c,attrs:{\"value\":c}},[_vm._v(\" \"+_vm._s(c)+\" \")])}),1)],1),_c('a-form-model-item',{attrs:{\"label\":\"商品标签\",\"prop\":\"tags\",\"required\":\"\"}},[_c('a-select',{attrs:{\"mode\":\"tags\",\"placeholder\":\"Please select\",\"default-value\":['包邮，最晚次日达']},model:{value:(_vm.form.tags),callback:function ($$v) {_vm.$set(_vm.form, \"tags\", $$v)},expression:\"form.tags\"}},[_c('a-select-option',{attrs:{\"value\":\"包邮，最晚次日达\"}},[_vm._v(\"包邮，最晚次日达\")])],1)],1),_c('a-form-model-item',{staticClass:\"next-btn\",attrs:{\"label\":\"\",\"wrapperCol\":{ span: 24 }}},[_c('a-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.next}},[_vm._v(\"下一步\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"basic-detail\">\n    <a-form-model\n      ref=\"ruleForm\"\n      :model=\"form\"\n      :label-col=\"{ span: 5 }\"\n      :wrapper-col=\"{ span: 13 }\"\n    >\n      <a-form-model-item label=\"标题\" prop=\"title\" required>\n        <a-input v-model=\"form.title\" />\n      </a-form-model-item>\n      <a-form-model-item label=\"商品描述\" prop=\"desc\">\n        <a-input v-model=\"form.desc\" />\n      </a-form-model-item>\n      <a-form-model-item label=\"商品类目\" required prop=\"category\">\n        <a-select\n          v-model=\"form.category\"\n          placeholder=\"请选择商品类别\"\n        >\n          <a-select-option v-for=\"c in $store.state.categoryList\" :key=\"c.id\" :value=\"c.id\">\n            {{ c.name }}\n          </a-select-option>\n        </a-select>\n        <a-select v-model=\"form.c_item\" placeholder=\"请添加子类目\">\n          <a-select-option v-for=\"c in getCategoryItems\" :key=\"c\" :value=\"c\">\n            {{ c }}\n          </a-select-option>\n        </a-select>\n      </a-form-model-item>\n      <a-form-model-item label=\"商品标签\" prop=\"tags\" required>\n        <a-select\n          mode=\"tags\"\n          placeholder=\"Please select\"\n          :default-value=\"['包邮，最晚次日达']\"\n          v-model=\"form.tags\"\n        >\n          <a-select-option value=\"包邮，最晚次日达\"\n            >包邮，最晚次日达</a-select-option\n          >\n        </a-select>\n      </a-form-model-item>\n      <a-form-model-item label=\"\" class=\"next-btn\" :wrapperCol=\"{ span: 24 }\">\n        <a-button type=\"primary\" @click=\"next\">下一步</a-button>\n      </a-form-model-item>\n    </a-form-model>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n    };\n  },\n  props: ['form'],\n  created() {\n    if (this.$store.state.categoryList.length === 0) {\n      this.$store.dispatch('setCategoryList');\n    }\n  },\n  computed: {\n    getCategoryItems() {\n      for (let i = 0; i < this.$store.state.categoryList.length; i += 1) {\n        const category = this.$store.state.categoryList[i];\n        if (category.id === this.form.category) {\n          return category.c_items;\n        }\n      }\n      return [];\n    },\n  },\n  methods: {\n    next() {\n      this.$refs.ruleForm.validate((valid) => {\n        if (valid) {\n          this.$emit('next', this.form);\n          return true;\n        }\n        return false;\n      });\n    },\n  },\n};\n</script>\n\n<style lang=\"less\">\n.basic-detail {\n  .next-btn {\n    text-align: center;\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BaseDetail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BaseDetail.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BaseDetail.vue?vue&type=template&id=965dc370&\"\nimport script from \"./BaseDetail.vue?vue&type=script&lang=js&\"\nexport * from \"./BaseDetail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./BaseDetail.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"sale-detail\"},[_c('a-form-model',{ref:\"ruleForm\",attrs:{\"model\":_vm.form,\"label-col\":{ span: 5 },\"wrapper-col\":{ span: 13 }}},[_c('a-form-model-item',{attrs:{\"label\":\"商品售价\",\"prop\":\"price\",\"required\":\"\"}},[_c('a-input',{model:{value:(_vm.form.price),callback:function ($$v) {_vm.$set(_vm.form, \"price\", $$v)},expression:\"form.price\"}})],1),_c('a-form-model-item',{attrs:{\"label\":\"折扣价格\",\"prop\":\"price_off\"}},[_c('a-input',{model:{value:(_vm.form.price_off),callback:function ($$v) {_vm.$set(_vm.form, \"price_off\", $$v)},expression:\"form.price_off\"}})],1),_c('a-form-model-item',{attrs:{\"label\":\"商品库存\",\"required\":\"\",\"prop\":\"inventory\"}},[_c('a-input',{model:{value:(_vm.form.inventory),callback:function ($$v) {_vm.$set(_vm.form, \"inventory\", $$v)},expression:\"form.inventory\"}})],1),_c('a-form-model-item',{attrs:{\"label\":\"计量单位\",\"prop\":\"unit\",\"required\":\"\"}},[_c('a-input',{model:{value:(_vm.form.unit),callback:function ($$v) {_vm.$set(_vm.form, \"unit\", $$v)},expression:\"form.unit\"}})],1),_c('a-form-model-item',{attrs:{\"label\":\"商品相册\",\"prop\":\"images\"}},[_c('div',{staticClass:\"clearfix\"},[_c('a-upload',{attrs:{\"action\":_vm.action,\"list-type\":\"picture-card\",\"file-list\":_vm.fileList,\"name\":\"avatar\"},on:{\"preview\":_vm.handlePreview,\"change\":_vm.handleChange}},[(_vm.fileList.length < 8)?_c('div',[_c('a-icon',{attrs:{\"type\":\"plus\"}}),_c('div',{staticClass:\"ant-upload-text\"},[_vm._v(\"Upload\")])],1):_vm._e()]),_c('a-modal',{attrs:{\"visible\":_vm.previewVisible,\"footer\":null},on:{\"cancel\":_vm.handleCancel}},[_c('img',{staticStyle:{\"width\":\"100%\"},attrs:{\"alt\":\"example\",\"src\":_vm.previewImage}})])],1)]),_c('a-form-model-item',{staticClass:\"next-btn\",attrs:{\"label\":\"\",\"wrapperCol\":{ span: 24 }}},[_c('a-button',{staticClass:\"prev\",on:{\"click\":_vm.prev}},[_vm._v(\"上一步\")]),_c('a-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.next}},[_vm._v(\"提交\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"sale-detail\">\n    <a-form-model\n      ref=\"ruleForm\"\n      :model=\"form\"\n      :label-col=\"{ span: 5 }\"\n      :wrapper-col=\"{ span: 13 }\"\n    >\n      <a-form-model-item label=\"商品售价\" prop=\"price\" required>\n        <a-input v-model=\"form.price\" />\n      </a-form-model-item>\n      <a-form-model-item label=\"折扣价格\" prop=\"price_off\">\n        <a-input v-model=\"form.price_off\" />\n      </a-form-model-item>\n      <a-form-model-item label=\"商品库存\" required prop=\"inventory\">\n        <a-input v-model=\"form.inventory\" />\n      </a-form-model-item>\n      <a-form-model-item label=\"计量单位\" prop=\"unit\" required>\n        <a-input v-model=\"form.unit\" />\n      </a-form-model-item>\n      <a-form-model-item label=\"商品相册\" prop=\"images\">\n        <div class=\"clearfix\">\n          <a-upload\n            :action=\"action\"\n            list-type=\"picture-card\"\n            :file-list=\"fileList\"\n            @preview=\"handlePreview\"\n            @change=\"handleChange\"\n            name='avatar'\n          >\n            <div v-if=\"fileList.length < 8\">\n              <a-icon type=\"plus\" />\n              <div class=\"ant-upload-text\">Upload</div>\n            </div>\n          </a-upload>\n          <a-modal\n            :visible=\"previewVisible\"\n            :footer=\"null\"\n            @cancel=\"handleCancel\"\n          >\n            <img alt=\"example\" style=\"width: 100%\" :src=\"previewImage\" />\n          </a-modal>\n        </div>\n      </a-form-model-item>\n      <a-form-model-item label=\"\" class=\"next-btn\" :wrapperCol=\"{ span: 24 }\">\n        <a-button @click=\"prev\" class=\"prev\">上一步</a-button>\n        <a-button type=\"primary\" @click=\"next\">提交</a-button>\n      </a-form-model-item>\n    </a-form-model>\n  </div>\n</template>\n\n<script>\nfunction getBase64(file) {\n  return new Promise((resolve, reject) => {\n    const reader = new FileReader();\n    reader.readAsDataURL(file);\n    reader.onload = () => resolve(reader.result);\n    reader.onerror = (error) => reject(error);\n  });\n}\nexport default {\n  created() {\n    this.action = this.$api.getUploadImageUrl();\n    this.fileList = this.form.images.map((item, index) => ({\n      uid: index,\n      name: `image${index}.png`,\n      status: 'done',\n      url: item,\n    }));\n  },\n  data() {\n    return {\n      previewVisible: false,\n      previewImage: '',\n      fileList: [],\n      action: '',\n    };\n  },\n  props: ['form'],\n  methods: {\n    next() {\n      this.$refs.ruleForm.validate((valid) => {\n        if (valid) {\n          this.$emit('next', this.form);\n          return true;\n        }\n        return false;\n      });\n    },\n    prev() {\n      this.$emit('prev', this.form);\n    },\n    handleCancel() {\n      this.previewVisible = false;\n    },\n    async handlePreview(file) {\n      const files = file;\n      if (!files.url && !files.preview) {\n        files.preview = await getBase64(files.originFileObj);\n      }\n      this.previewImage = files.url || files.preview;\n      this.previewVisible = true;\n    },\n    handleChange({ file, fileList }) {\n      if (file.status === 'done') {\n        this.form.images.push(file.response.data.url);\n      } else if (file.status === 'removed') {\n        this.form.images = this.form.images.filter((image) => file.url !== image);\n      }\n      this.fileList = fileList;\n    },\n  },\n};\n</script>\n\n<style lang=\"less\">\n.sale-detail {\n  .next-btn {\n    text-align: center;\n    .prev {\n      margin-right: 5px;\n    }\n  }\n  .ant-upload-select-picture-card {\n    i {\n      font-size: 32px;\n      color: #999;\n    }\n    .ant-upload-text {\n      margin-top: 8px;\n      color: #666;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SaleDetail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SaleDetail.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SaleDetail.vue?vue&type=template&id=eccc9686&\"\nimport script from \"./SaleDetail.vue?vue&type=script&lang=js&\"\nexport * from \"./SaleDetail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SaleDetail.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"product-detail\">\n    <a-steps :current=\"current\" class=\"product-step\">\n      <a-step v-for=\"item in steps\" :key=\"item.title\" :title=\"item.title\" />\n    </a-steps>\n    <div class=\"steps-content\">\n      <BaseDetail  v-if = 'current === 0' @next=\"next\" :form='form'/>\n      <SaleDetail  v-else-if = 'current === 1' @next=\"next\" @prev='prev' :form='form'/>\n    </div>\n  </div>\n</template>\n<script>\nimport BaseDetail from '@/components/BaseDetail.vue';\nimport SaleDetail from '@/components/SaleDetail.vue';\n\nexport default {\n  data() {\n    return {\n      current: 0,\n      steps: [\n        {\n          title: '填写商品基本信息',\n        },\n        {\n          title: '填写商品销售信息',\n        },\n      ],\n      form: {\n        title: '',\n        desc: '',\n        category: '',\n        c_items: [],\n        tags: [],\n        price: 0,\n        price_off: 0,\n        unit: '',\n        inventory: 0,\n        images: [],\n      },\n    };\n  },\n  async created() {\n    const { id } = this.$route.query;\n    if (id) {\n      const res = await this.$api.getProductionById(id);\n      this.form = res.data;\n    }\n  },\n  methods: {\n    async next() {\n      if (this.current === 1) {\n        const { id } = this.$route.query;\n        let res;\n        if (id) {\n          res = await this.$api.editProduction(this.form);\n        } else {\n          res = await this.$api.uploadImageUrl(this.form);\n        }\n        const type = res.status === 'success' ? 'success' : 'error';\n        this.$message[type](res.msg);\n        this.$router.push({\n          name: 'ProductList',\n        });\n      } else {\n        this.current += 1;\n      }\n    },\n    prev() {\n      this.current -= 1;\n    },\n  },\n  components: {\n    BaseDetail,\n    SaleDetail,\n  },\n};\n</script>\n<style lang = 'less' scoped>\n.product-detail {\n  .product-step {\n    width: 50%;\n    margin: 20px auto;\n  }\n  .steps-content {\n    margin-top: 16px;\n    border: 1px dashed #e9e9e9;\n    border-radius: 6px;\n    background-color: #fafafa;\n    min-height: 200px;\n    text-align: center;\n    padding-top: 80px;\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProductAdd.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProductAdd.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ProductAdd.vue?vue&type=template&id=0b509b8c&scoped=true&\"\nimport script from \"./ProductAdd.vue?vue&type=script&lang=js&\"\nexport * from \"./ProductAdd.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ProductAdd.vue?vue&type=style&index=0&id=0b509b8c&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0b509b8c\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}